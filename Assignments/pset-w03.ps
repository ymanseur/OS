%!PS-Adobe-3.0
%%Creator: groff version 1.19.1
%%CreationDate: Wed Sep 16 15:15:48 2015
%%DocumentNeededResources: font Times-Roman
%%+ font Helvetica-Bold
%%+ font Courier
%%+ font Times-Bold
%%DocumentSuppliedResources: procset grops 1.19 1
%%Pages: 2
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 1
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Helvetica-Bold
%%IncludeResource: font Courier
%%IncludeResource: font Times-Bold
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Bold@0 ENC0/Times-Bold RE/Courier@0 ENC0/Courier RE
/Helvetica-Bold@0 ENC0/Helvetica-Bold RE/Times-Roman@0 ENC0/Times-Roman
RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(ECE357:Computer Operating Systems)69.336 48 Q
(PS 3/pg 1)41.55 E(\2512015 Jef)119.78 E 2.5(fH)-.25 G(akner)-2.5 E/F1
11/Helvetica-Bold@0 SF(Pr)259.398 97 Q(ob)-.22 E(lem 1 -- The Shell)-.11
E/F2 11/Times-Roman@0 SF .033(In this assignment, you will write an e)58
116 R .032(xtremely simplistic UNIX shell which is capable of launching\
 one program at a)-.165 F(time, with ar)58 129 Q(guments, w)-.198 E
(aiting for and reporting the e)-.11 E
(xit status and resource usage statistics.)-.165 E -1.21(Yo)58 148 S
.242(ur shell shall accept lines of input from standard input until EOF)
1.21 F 5.742(.D)-.88 G(on')-5.742 E 2.992(tw)-.198 G .242
(orry about issuing a prompt, command-)-3.102 F .536(line editing, etc.)
58 161 R .536(Each line is a command to be e)6.036 F -.165(xe)-.165 G
3.285(cuted. The).165 F .535(shell should fork to create a ne)3.285 F
3.285(wp)-.275 G .535(rocess in which to)-3.285 F 1.079
(run the command, set up an)58 174 R 3.829(yr)-.165 G 1.079
(equested I/O redirection \(see belo)-3.829 F 1.079(w\), e)-.275 F -.165
(xe)-.165 G 3.829(ct).165 G 1.079(he program, w)-3.829 F 1.079
(ait for and report the e)-.11 F(xit)-.165 E .072(status, and report th\
e real, user and system time consumed by the command \(a la)58 187 R/F3
11/Courier@0 SF(time)2.822 E F2 2.822(\). If)B .072(you are adv)2.822 F
.072(enturous, you)-.165 F 2.499(might e)58 200 R 2.499
(xamine other members of the)-.165 F F3(rusage)5.25 E F2 2.5
(structure and see ho)5.25 F 5.25(wt)-.275 G(he)-5.25 E 5.25(ya)-.165 G
2.5(re reported on dif)-5.25 F 2.5(ferent operating)-.275 F(systems.)58
213 Q -1.21(Yo)58 232 S 2.75(um)1.21 G
(ay assume that each command is formatted as follo)-2.75 E(ws:)-.275 E
/F4 10/Courier@0 SF(command {argument {argument...} } {redirection_oper\
ation {redirection_operation...}})58 259 Q F2 1.136(This is an e)58 285
R 1.136(xtreme simpli\214cation of shell syntax, b)-.165 F 1.136
(ut this is after all a course in operating systems, not compilers.)-.22
F .394(The abo)58 298 R .724 -.165(ve o)-.165 H .394(ptional ar).165 F
.394(guments and operators are whitespace-delimited, i.e. the)-.198 F
3.145(ya)-.165 G .395(re separated by one or more tabs or)-3.145 F 2.992
(spaces. This)58 311 R .242(will simplify parsing and you can use)2.992
F F3(strtok)2.991 E F2 .241
(to break up the input line into its components.)2.991 F .241(The real)
5.741 F .213(shell accepts)58 324 R F3 .213(command argument>output)
2.963 F F2 .213(as well, b)2.963 F .213(ut you don')-.22 F 2.963(th)
-.198 G -2.475 -.22(av e)-2.963 H .213(to parse that if you don')3.183 F
2.963(tw)-.198 G .213(ant to.)-3.073 F/F5 11/Times-Bold@0 SF 2.963(Al)
5.713 G(ine)-2.963 E 1.266
(that begins with the # character is a comment and should be ignor)58
337 R(ed.)-.198 E F2 1.266(Report an)6.766 F 4.016(ye)-.165 G 1.266
(rrors related to command)-4.016 F(launching b)58 350 Q(ut, just lik)
-.22 E 2.75(et)-.11 G(he real shell, do not e)-2.75 E
(xit the entire shell on error; go to the ne)-.165 E(xt command.)-.165 E
(I/O redirection)284.467 376 Q(Support the follo)58 402 Q 2.75(wr)-.275
G(edirection operations \(note that pipes are not required since we ha)
-2.75 E -.165(ve)-.22 G(n').165 E 2.75(tt)-.198 G(alk)-2.75 E
(ed about them yet\):)-.11 E F4 55.2(<filename Open)58 416 R
(filename and redirect stdin)6 E 55.2(>filename Open/Create/Truncate)58
430 R(filename and redirect stdout)6 E 49.2
(2>filename Open/Create/Truncate)58 444 R(filename and redirect stderr)6
E 49.2(>>filename Open/Create/Append)58 458 R
(filename and redirect stdout)6 E 43.2(2>>filename Open/Create/Append)58
472 R(filename and redirect stderr)6 E F2 .468(Note that a gi)58 485 R
-.165(ve)-.275 G 3.218(nc).165 G .468(ommand launch can ha)-3.218 F .798
-.165(ve 0)-.22 H 3.218(,1).165 G 3.218(,2o)-3.218 G 3.218(r3p)-3.218 G
.468(ossible redirection operators.)-3.218 F 3.219(Af)5.968 G .469
(ailure to establish an)-3.329 F 3.219(yo)-.165 G(f)-3.219 E(the reques\
ted I/O redirections should result in an error message and the command \
should not be launched.)58 498 Q(Clean File Descriptor En)239.769 524 Q
(vironment)-.44 E -1.21(Yo)58 550 S 3.075(ur shell should fork and e)
1.21 F -.165(xe)-.165 G 5.825(ct).165 G 3.074
(he command with a standard, clean \214le descriptor en)-5.825 F 5.824
(vironment. Only)-.44 F(\214le)5.824 E
(descriptors 0, 1 and 2 should be open, possibly redirected as abo)58
563 Q -.165(ve)-.165 G 5.5(.T).165 G
(here should be no "dangling" \214le descriptors.)-5.5 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(ECE357:Computer Operating Systems)36 52 Q
(PS 3/pg 2)78.105 E(\2512015 Jef)164.158 E 2.75(fH)-.275 G(akner)-2.75 E
(Example)297.447 104 Q/F1 10/Courier@0 SF 6($m)58 131 S(ysh)-6 E
(ls -l >ls.out)58 145 Q(Executing command ls with arguments "-l")58 159
Q(Command returned with return code 0,)58 173 Q
(consuming 0.005 real seconds, 0.002 user, 0.001 system)58 187 Q
(end of file)58 201 Q 6($c)58 215 S(at ls.out)-6 E(mysh.c)58 229 Q(mysh)
58 243 Q($)58 257 Q F0(Shell Scripts)289.038 296 Q -1.21(Yo)58 328 S
(ur shell must also support being in)1.21 E -.22(vo)-.44 G -.11(ke).22 G
2.75(da).11 G 2.75(sas)-2.75 G(cript interpreter:)-2.75 E F1
(mysh /tmp/script)58 342 Q F0 1.928(If pro)58 355 R 1.928
(vided with with an ar)-.165 F 1.928(gument as abo)-.198 F -.165(ve)
-.165 G 4.678(,y).165 G 1.928(our shell should open that and e)-4.678 F
-.165(xe)-.165 G 1.929(cute each line as a command.).165 F(Otherwise, y\
our shell should read commands from standard input until EOF)58 368 Q(.)
-.88 E -.77(Te)58 387 S(st this feature by creating an e).77 E -.165(xe)
-.165 G(cutable script \214le that calls your shell as the interpreter \
using the #! notation.).165 E(Exit status)293.927 413 Q 1.756(The e)58
439 R 1.755(xit status of your shell itself should be 0 if no errors we\
re encountered and all requested commands were)-.165 F
(launched, otherwise is should return a non-zero status.)58 452 Q -1.21
(Yo)58 491 S .848(ur submission should include: source code, "screensho\
t" demonstrating your shell w)1.21 F .849(orking in an interacti)-.11 F
1.179 -.165(ve c)-.275 H(ase).165 E .616(\(commands from k)58 504 R
-.165(ey)-.11 G .616(board\), screenshot sho).165 F .615
(wing your shell w)-.275 F .615(orking as a script interpreter)-.11 F
3.365(,i)-.44 G .615(ncluding source code of)-3.365 F
(shell script used to test this feature.)58 517 Q -1.21(Yo)5.5 G 2.75
(us)1.21 G(hould also demonstrate I/O redirection.)-2.75 E 0 Cg EP
%%Trailer
end
%%EOF
